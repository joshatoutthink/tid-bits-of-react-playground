---
title: Working with vanilla js and Wordpress ajax
date: '2020-08-03'
category: Brain Dump
tags: ['wp', 'js', 'fetch']
---

How to use fetch with wordpresses ajax system

```js
fetch(`${WP.ajaxUrl}`, {
  method: 'POST',
  mode: 'cors',
  credentials: 'same-origin', // include, *same-origin, omit
  headers: {
    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
  },
  body: toQueryString(data),
}).then(res => console.log(res))

function toQueryString(data) {
  const urlSearhParams = new URLSearchParams(data)
  const queryString = urlSearhParams.toString()
  return queryString
}
```
